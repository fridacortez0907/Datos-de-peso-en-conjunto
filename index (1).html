<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gráficas de Peso por ID</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: 'Times New Roman', serif;
      margin: 0; padding: 20px;
      background-color: #f4f4f4;
      color: #333;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      background-color: #fff;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    h1 {
      text-align: center;
      color: #2c3e50;
      margin-bottom: 30px;
      font-size: 2.5em;
      font-weight: normal;
    }
    .chart-container {
      width: 100%;
      height: 600px;
      margin: 0 auto;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Gráficas de Peso por ID</h1>
    <div class="chart-container">
      <canvas id="weightChart"></canvas>
    </div>
  </div>
  <script>
    // Etiquetas eje X (fechas)
    const fechas = ['27-jul-25', '04-jul-25', '10-jul-25', '17-jul-25', '24-jul-25', '31-jul-25', '07-ago-25', '14-ago-25', '21-ago-25', '28-ago-25', '04-sept-25', '11-sep-25', '18-sep-25',	'25-sep-25',	'2-oct-25',	'9-oct-25',	'16-oct-25'];
    const semanas = ['Semana 3', 'Semana 4', 'Semana 5', 'Semana 6', 'Semana 7', 'Semana 8', 'Semana 9', 'Semana 10', 'Semana 11', 'Semana 12', 'Semana 13', 'Semana 14', 'Semana 15', 'Semana 16', 'Semana 17', 'Semana 18', 'Semana 19'];

    // Colores línea para cada ID
    const colors = [
      'rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 205, 86, 1)', 'rgba(75, 192, 192, 1)',
      'rgba(153, 102, 255, 1)', 'rgba(255, 159, 64, 1)', 'rgba(199, 199, 199, 1)', 'rgba(83, 102, 255, 1)',
      'rgba(255, 99, 255, 1)', 'rgba(99, 255, 132, 1)', 'rgba(132, 99, 255, 1)', 'rgba(255, 132, 99, 1)',
      'rgba(99, 132, 255, 1)', 'rgba(255, 255, 99, 1)', 'rgba(99, 255, 255, 1)', 'rgba(255, 99, 99, 1)',
      'rgba(99, 99, 255, 1)', 'rgba(255, 99, 199, 1)', 'rgba(199, 255, 99, 1)', 'rgba(99, 199, 255, 1)',
      'rgba(255, 199, 99, 1)', 'rgba(99, 255, 199, 1)', 'rgba(199, 99, 255, 1)', 'rgba(255, 255, 199, 1)',
      'rgba(199, 199, 255, 1)', 'rgba(255, 199, 199, 1)', 'rgba(199, 255, 255, 1)', 'rgba(255, 199, 255, 1)',
      'rgba(199, 255, 199, 1)', 'rgba(255, 255, 255, 1)'
    ];

    // Datos reales tal como me los enviaste (solo IDs y pesos importantes, "-" cambiado a null y convertidos a número)
    const realData = [
      { id: 1, condicion: "Control", pesos: [47, 88, 135, 158, 185, 216, 237, 245, 252, 266, 270, 269, 274, 280, 290, 290, 307] },
      { id: 2, condicion: "Control", pesos: [46, 83, 125, 152, 178, 210, 226, 236, 201, 189, 220, 241, 256, 256, 264, 272, 285] },
      { id: 3, condicion: "Control", pesos: [41, 76, 113, 136, 160, 188, 195, 208, 218, 226, 231, 231, 239, 246, 256, 256, 258] },
      { id: 4, condicion: "Control", pesos: [48, 90, 132, 162, 180, 212, 229, 251, 273, 283, 295, 308, 315, 320, 333, 333, 334] },
      { id: 5, condicion: "Control", pesos: [47, 89, 136, 167, 194, 222, 237, 253, 269, 268, 276, 272, 289, 282, 284, 297, 303] },
      { id: 6, condicion: "Control", pesos: [44, 80, 122, 153, 171, 206, 219, 230, 238, 246, 252, 269, 270, 270, 273, 284, 286] },
      { id: 7, condicion: "Control", pesos: [49, 86, 124, 168, 199, 210, 229, 243, 247, 256, 166, 270, 268, 277, 285, 285, 286] },
      { id: 8, condicion: "Control", pesos: [46, 80, 118, 142, 158, 183, 195, 212, 231, 246, 254, 253, 260, 262, 265, 271, 275] },
      { id: 9, condicion: "HFD", pesos: [43, 73, 103, 123, 169, 199, 223, 247, 250, 268, 283, 285, 285, 291, 301, 301, 302] },
      { id: 10, condicion: "HFD", pesos: [41, 63, 88, 121, 152, 175, 195, 224, 243, 250, 255, 269, 273, 268, 270, 283, 285] },
      { id: 11, condicion: "HFD", pesos: [44, 71, 102, 133, 163, 191, 213, 232, 252, 264, 270, 279, 283, 283, 296, 296, 303] },
      { id: 12, condicion: "HFD", pesos: [39, 68, 102, 142, 173, 204, 231, 257, 277, 288, 300, 310, 310, 312, 319, 319, 329] },
      { id: 13, condicion: "HFD", pesos: [38, 63, 91, 120, 149, 175, 206, 226, 242, 250, 257, 260, 269, 269, 280, 284, 282] },
      { id: 14, condicion: "HFD", pesos: [40, 67, 96, 128, 163, 186, 214, 233, 240, 251, 258, 254, 266, 271, 276, 280, 282] },
      { id: 15, condicion: "HFD", pesos: [45, 74, 105, 132, 157, 185, 203, 215, 228, 242, 253, 249, 258, 254, 266, 271, 276] },
      { id: 16, condicion: "HFD", pesos: [38, 60, 86, 124, 154, 186, 212, 235, 255, 273, 282, 290, 293, 296, 297, 297, 327] },
      { id: 17, condicion: "Letrozol", pesos: [47, 65, 103, 141, 172, 200, 224, 235, 244, 263, 269, 275, 270, 288, 311, 311, 340] },
      { id: 18, condicion: "Letrozol", pesos: [45, 61, 106, 140, 181, 213, 237, 265, 282, 284, 297, 310, 309, 328, 356, 356, 366] },
      { id: 19, condicion: "Letrozol", pesos: [46, 70, 109, 140, 168, 194, 174, 168, null, null, null, null, null, null, null, null, null] },
      { id: 20, condicion: "Letrozol", pesos: [48, 66, 105, 145, 173, 201, 220, 238, 260, 260, 271, 280, 293, 297, 331, 335, 342] },
      { id: 21, condicion: "Letrozol", pesos: [48, 73, 118, 159, 184, 204, 224, 241, 259, 268, 283, 282, 284, 293, 312, 329, 339] },
      { id: 22, condicion: "Letrozol", pesos: [41, 60, 103, 140, 169, 205, 239, 238, 256, 263, 274, 290, 295, 301, 331, 341, 358] },
      { id: 23, condicion: "HFD+LET", pesos: [45, 79, 108, 137, 167, 197, 218, 236, 253, 265, 288, 308, 306, 315, 344, 347, 349] },
      { id: 24, condicion: "HFD+LET", pesos: [47, 85, 115, 148, 175, 213, 236, 258, 271, 279, 274, 285, 290, 295, 316, 344, 365] },
      { id: 25, condicion: "HFD+LET", pesos: [39, 73, 107, 143, 171, 198, 221, 241, 253, 262, 274, 285, 290, 295, 316, 347, 362] },
      { id: 26, condicion: "HFD+LET", pesos: [53, 85, 117, 118, 183, 214, 242, 254, 267, 275, 288, 297, 303, 315, 305, 373, 396] },
      { id: 27, condicion: "HFD+LET", pesos: [38, 64, 90, 122, 156, 185, 210, 232, 251, 260, 265, 280, 284, 287, 306, 333, 348] },
      { id: 28, condicion: "HFD+LET", pesos: [45, 81, 109, 148, 175, 214, 255, 266, 277, 293, 303, 312, 321, 337, 347, 377, 391] },
      { id: 29, condicion: "HFD+LET", pesos: [33, 61, 86, 152, 142, 168, 192, 209, 218, 231, 238, 245, 245, 252, 267, 290, 304] },
      { id: 30, condicion: "HFD+LET", pesos: [48, 82, 114, 160, 188, 214, 245, 240, 246, 257, 278, 288, 287, 280, 297, 325, 348] }
    ];

    // Crear datasets sin puntos en la leyenda, solo texto, y líneas con colores
    const datasets = realData.map((entry, idx) => ({
      label: `ID ${entry.id} - ${entry.condicion}`,
      data: entry.pesos.map(p => (p === null || p === "-" ? null : p)),
      borderColor: colors[idx],
      backgroundColor: colors[idx].replace('1)', '0.2)'),
      tension: 0.1,
      fill: false,
      pointRadius: 0,
      pointHoverRadius: 5,
    }));

    const ctx = document.getElementById('weightChart').getContext('2d');
    new Chart(ctx, {
      type: 'line',
      data: {
        labels,
        datasets
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            display: true,
            position: 'right',
            labels: {
              font: {
                size: 11,
                family: 'Times New Roman, serif',
                weight: 'normal',
                style: 'normal'
              },
              usePointStyle: false,   // <-- Aquí quitamos el punto color
              boxWidth: 0,            // <-- Sin recuadro de color
              padding: 12,
              color: '#2c3e50'
            }
          }
        },
        scales: {
          y: {
            beginAtZero: false,
            title: {
              display: true,
              text: 'Peso (kg)',
              font: {
                size: 14,
                family: 'Times New Roman, serif'
              }
            },
            ticks: {
              font: {
                size: 12,
                family: 'Times New Roman, serif'
              }
            }
          },
          x: {
            title: {
              display: true,
              text: 'Fecha',
              font: {
                size: 14,
                family: 'Times New Roman, serif'
              }
            },
            ticks: {
              font: {
                size: 12,
                family: 'Times New Roman, serif'
              },
              maxRotation: 45,
              minRotation: 45
            }
          }
        }
      }
    });
  </script>
</body>
</html>
